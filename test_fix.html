<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•ä¿®å¤ï¼šä»Leanåˆ°Scrumç”˜ç‰¹å›¾åŠ è½½æç¤º</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .test-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        .test-controls h4 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .test-controls button {
            display: block;
            width: 100%;
            margin: 5px 0;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            background: #007bff;
            color: white;
            cursor: pointer;
        }
        .test-controls button:hover {
            background: #0056b3;
        }
        .test-status {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="test-controls">
        <h4>ğŸ§ª æµ‹è¯•æ§åˆ¶é¢æ¿</h4>
        <button onclick="testLeanToScrum()">æµ‹è¯•ï¼šLean â†’ Scrum åˆ‡æ¢</button>
        <button onclick="testDirectScrum()">æµ‹è¯•ï¼šç›´æ¥è¿›å…¥ Scrum</button>
        <button onclick="resetTest()">é‡ç½®æµ‹è¯•</button>
        <div class="test-status" id="testStatus">
            å‡†å¤‡å¼€å§‹æµ‹è¯•...
        </div>
    </div>

    <div class="app-container">
        <!-- å¯¼èˆªæ  -->
        <nav class="navbar">
            <div class="nav-brand">
                <i class="fas fa-leaf"></i>
                <span>ç¢³æ’æ”¾ç®¡ç†ç³»ç»Ÿ - ä¿®å¤æµ‹è¯•</span>
            </div>
            <div class="nav-tabs">
                <button class="nav-tab" data-module="upload">æ–‡æ¡£ä¸Šä¼ </button>
                <button class="nav-tab" data-module="kanban">Kanbanåˆ†æ</button>
                <button class="nav-tab active" data-module="lean">Leanä¼˜åŒ–</button>
                <button class="nav-tab" data-module="scrum">Scrumæ‰§è¡Œ</button>
            </div>
        </nav>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <!-- æ–‡æ¡£ä¸Šä¼ æ¨¡å— -->
            <div id="upload-module" class="module">
                <div class="module-header">
                    <h2>æ–‡æ¡£ä¸Šä¼ æ¨¡å—</h2>
                </div>
            </div>

            <!-- Kanbanæ¨¡å— -->
            <div id="kanban-module" class="module">
                <div class="module-header">
                    <h2>Kanban ç¢³æ’æ”¾åˆ†æ</h2>
                </div>
            </div>

            <!-- Leanæ¨¡å— -->
            <div id="lean-module" class="module active">
                <div class="module-header">
                    <h2><i class="fas fa-lightbulb"></i> Lean ä¼˜åŒ–åˆ†æ</h2>
                    <p>æ·±åº¦åˆ†æé«˜æ’æ”¾åŸå› å¹¶æä¾›ä¼˜åŒ–å»ºè®®</p>
                </div>
                
                <div class="analysis-content">
                    <div class="test-lean-content" style="padding: 20px; background: #f8f9fa; border-radius: 8px; margin: 20px 0;">
                        <h3>ğŸ”§ æ¨¡æ‹ŸLeanä¼˜åŒ–ç»“æœ</h3>
                        <p>è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„Leanä¼˜åŒ–åˆ†æç»“æœã€‚é€šå¸¸åœ¨è¿™é‡Œä¼šæ˜¾ç¤ºå„ç§ä¼˜åŒ–å»ºè®®å’Œåˆ†ææ•°æ®ã€‚</p>
                        
                        <div class="action-section" style="margin-top: 30px; padding: 20px; background: #e7f3ff; border-radius: 8px;">
                            <h3><i class="fas fa-arrow-right"></i> ä¸‹ä¸€æ­¥ï¼šè¿›å…¥Scrumæ‰§è¡Œ</h3>
                            <p>åŸºäºä¸Šè¿°ä¼˜åŒ–åˆ†æç»“æœï¼Œå‰å¾€Scrumåˆ†è§£ä»»åŠ¡å¹¶ç”Ÿæˆæ‰§è¡Œè®¡åˆ’ã€‚</p>
                            <button id="leanToScrumBtn" class="btn btn-primary btn-large" onclick="goToScrumExecution()">
                                <i class="fas fa-tasks"></i> è½¬åˆ°Scrumæ‰§è¡Œ
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Scrumæ¨¡å— -->
            <div id="scrum-module" class="module">
                <div class="module-header">
                    <h2><i class="fas fa-tasks"></i> Scrum æ‰§è¡Œè·Ÿè¸ª</h2>
                    <p>å„éƒ¨é—¨ä»»åŠ¡åˆ†é…ä¸è¿›åº¦ç›‘æ§</p>
                </div>
                
                <div class="scrum-content" id="scrumContent">
                    <div class="scrum-placeholder">
                        <i class="fas fa-clipboard-check"></i>
                        <p>è¯·å…ˆå®ŒæˆLeanä¼˜åŒ–åˆ†æå¹¶ç¡®è®¤æ–¹æ¡ˆ</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
    <script>
        // æµ‹è¯•å‡½æ•°
        function updateTestStatus(message, type = 'info') {
            const status = document.getElementById('testStatus');
            const colors = {
                info: '#f8f9fa',
                success: '#d4edda',
                warning: '#fff3cd',
                error: '#f8d7da'
            };
            status.style.background = colors[type] || colors.info;
            status.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
        }

        function testLeanToScrum() {
            updateTestStatus('å¼€å§‹æµ‹è¯•ï¼šä»Leané¡µé¢åˆ‡æ¢åˆ°Scrumé¡µé¢...', 'info');
            
            // æ¨¡æ‹Ÿåœ¨Leané¡µé¢
            switchModule('lean');
            setTimeout(() => {
                updateTestStatus('å½“å‰åœ¨Leané¡µé¢ï¼Œ2ç§’åç‚¹å‡»"è½¬åˆ°Scrumæ‰§è¡Œ"æŒ‰é’®...', 'info');
                
                setTimeout(() => {
                    updateTestStatus('ç‚¹å‡»"è½¬åˆ°Scrumæ‰§è¡Œ"æŒ‰é’®ï¼Œè§‚å¯Ÿç”˜ç‰¹å›¾åŠ è½½æç¤º...', 'warning');
                    goToScrumExecution();
                    
                    setTimeout(() => {
                        // æ£€æŸ¥ç”˜ç‰¹å›¾æ˜¯å¦æ˜¾ç¤ºäº†åŠ è½½æç¤º
                        const ganttChart = document.getElementById('ganttChart');
                        if (ganttChart && ganttChart.innerHTML.includes('æ­£åœ¨ç”Ÿæˆç”˜ç‰¹å›¾')) {
                            updateTestStatus('âœ… æˆåŠŸï¼ç”˜ç‰¹å›¾åŠ è½½æç¤ºæ­£ç¡®æ˜¾ç¤º', 'success');
                        } else {
                            updateTestStatus('âŒ å¤±è´¥ï¼šç”˜ç‰¹å›¾åŠ è½½æç¤ºæœªæ˜¾ç¤º', 'error');
                        }
                    }, 200);
                }, 2000);
            }, 500);
        }

        function testDirectScrum() {
            updateTestStatus('å¼€å§‹æµ‹è¯•ï¼šç›´æ¥åˆ‡æ¢åˆ°Scrumé¡µé¢...', 'info');
            switchModule('scrum');
            
            setTimeout(() => {
                const ganttChart = document.getElementById('ganttChart');
                if (ganttChart && ganttChart.innerHTML.includes('æ­£åœ¨ç”Ÿæˆç”˜ç‰¹å›¾')) {
                    updateTestStatus('âœ… æˆåŠŸï¼ç›´æ¥åˆ‡æ¢åˆ°Scrumé¡µé¢ï¼Œç”˜ç‰¹å›¾åŠ è½½æç¤ºæ­£ç¡®æ˜¾ç¤º', 'success');
                } else {
                    updateTestStatus('âŒ å¤±è´¥ï¼šç›´æ¥åˆ‡æ¢åˆ°Scrumé¡µé¢ï¼Œç”˜ç‰¹å›¾åŠ è½½æç¤ºæœªæ˜¾ç¤º', 'error');
                }
            }, 300);
        }

        function resetTest() {
            updateTestStatus('é‡ç½®æµ‹è¯•ç¯å¢ƒ...', 'info');
            // æ¸…é™¤æ‰€æœ‰æ¨¡å—çš„activeçŠ¶æ€
            document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            
            // å›åˆ°Leané¡µé¢
            document.getElementById('lean-module').classList.add('active');
            document.querySelector('[data-module="lean"]').classList.add('active');
            
            // é‡ç½®scrumå†…å®¹
            document.getElementById('scrumContent').innerHTML = `
                <div class="scrum-placeholder">
                    <i class="fas fa-clipboard-check"></i>
                    <p>è¯·å…ˆå®ŒæˆLeanä¼˜åŒ–åˆ†æå¹¶ç¡®è®¤æ–¹æ¡ˆ</p>
                </div>
            `;
            
            updateTestStatus('æµ‹è¯•ç¯å¢ƒå·²é‡ç½®ï¼Œå¯ä»¥å¼€å§‹æ–°çš„æµ‹è¯•', 'info');
        }

        // æ¨¡æ‹Ÿç”˜ç‰¹å›¾ç¼©æ”¾å‡½æ•°
        function testAdjustGanttZoom(zoomLevel) {
            console.log('æµ‹è¯•ç”˜ç‰¹å›¾ç¼©æ”¾:', zoomLevel);
            updateTestStatus(`ç”˜ç‰¹å›¾ç¼©æ”¾åŠŸèƒ½æµ‹è¯•: ${zoomLevel}è§†å›¾`, 'info');
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateTestStatus('æµ‹è¯•é¡µé¢å·²åŠ è½½ï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•ä¿®å¤æ•ˆæœ', 'success');
            
            // æ¨¡æ‹Ÿä¸€äº›åˆ†ææ•°æ®
            window.analysisData = {
                scrumData: [
                    {
                        key: 'procurement',
                        name: 'é‡‡è´­éƒ¨é—¨',
                        icon: 'fas fa-shopping-cart',
                        tasks: [
                            { name: 'ç»¿è‰²ä¾›åº”å•†ç­›é€‰', deadline: '2024-02-15' },
                            { name: 'é‡‡è´­æµç¨‹ä¼˜åŒ–', deadline: '2024-02-20' }
                        ]
                    }
                ]
            };
        });
    </script>
</body>
</html>